"use strict";(self["webpackChunkhmmm_frontend_vue3_dev"]=self["webpackChunkhmmm_frontend_vue3_dev"]||[]).push([[462],{65327:function(e,l,a){a.d(l,{IH:function(){return o},Od:function(){return d},Vx:function(){return i},lC:function(){return n},pb:function(){return t}});var u=a(84471);const t=e=>(0,u.r)("/directorys","get",e),n=e=>(0,u.r)("/directorys/simple","get",e),o=e=>(0,u.r)("/directorys","post",e),i=e=>(0,u.r)(`/directorys/${e.id}`,"put",e),d=e=>(0,u.r)(`/directorys/${e}`,"delete")},38462:function(e,l,a){a.r(l),a.d(l,{default:function(){return C}});a(57658);var u=a(73396),t=a(44870),n=a(84471);const o=e=>(0,n.r)("/questions","get",e),i=e=>(0,n.r)(`/questions/${e}`,"delete"),d=e=>(0,n.r)(`/questions/choice/${e.id}/${e.choiceState}`,"patch",e),m=e=>(0,n.r)("/subjects/simple","get",e);var s=a(65327);const c=e=>(0,n.r)("/tags/simple","get",e);var p=a(59790),r=a(55743),f=a.n(r),w=a(96e3),v=a(47178),b=a(72748),W=a(42325),g=a(25732),y=a(22483);const _={class:"box"};var h={__name:"questions",setup(e){const l=(0,y.tv)(),a=(0,t.iH)([{subjectID:null,catalogID:null,city:"",direction:"",questionType:null,difficulty:"",remarks:"",tags:null,creatorID:null,shortName:"",province:""}]),n=(0,t.iH)([]),r=(0,t.iH)({page:1,pagesize:5}),h=(0,t.iH)(),V=async()=>{const e=await o(r.value);n.value=e.data.items,h.value=e.data.counts},D=(0,t.iH)([]),C=(0,t.iH)();(0,u.bv)((async()=>{const e=await(0,p.lC)(),{data:l}=await m();D.value=l,C.value=e.data,V()}));const k=[{num:1,label:"单选",value:"简单"},{num:2,label:"多选",value:"一般"},{num:3,label:"简答",value:"困难"}],H=(0,u.Fl)((()=>(n.value.forEach((e=>{e.subjectID=D.value.find((l=>l.value===e.subjectID)).label,e.questionType=k.find((l=>l.num===Number(e.questionType)||l.label===e.questionType)).label,e.difficulty=k.find((l=>l.num===1*e.difficulty||l.value===e.difficulty)).value,e.addDate=f()(e.addDate).format("YYYY-MM-DD HH:mm:ss"),e.question=(0,W.Iv)(e.question)})),n.value))),j=e=>{r.value.page=e,V()},z=e=>{r.value.pagesize=e},U=(0,t.iH)(),q=(0,t.iH)(),x=async e=>{const{data:l}=await(0,s.lC)({subjectID:e}),a=await c({subjectID:e});U.value=l,q.value=a.data},I=(0,g.J)(),T=(0,t.iH)([]),Y=e=>{T.value=(0,g.s)(e),console.log(T)},K=async e=>{await w.T.confirm("proxy will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"});try{await i(e),V(),(0,v.z8)({type:"success",message:"Delete completed"})}catch(l){(0,v.z8)({type:"info",message:"Delete canceled"})}},S=e=>{l.push({path:"/questions/new",query:{id:e}})},$=()=>{},B=async e=>{await w.T.confirm("proxy will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"});try{await d({id:e,choiceState:1}),V(),(0,v.z8)({type:"success",message:"Delete completed"})}catch(l){(0,v.z8)({type:"info",message:"Delete canceled"})}},N=()=>{l.push("/questions/new")},O=()=>{},E=()=>{};return(e,l)=>{const n=(0,u.up)("el-button"),o=(0,u.up)("el-row"),i=(0,u.up)("el-option"),d=(0,u.up)("el-select"),m=(0,u.up)("el-form-item"),s=(0,u.up)("el-col"),c=(0,u.up)("el-input"),p=(0,u.up)("el-form"),f=(0,u.up)("el-alert"),w=(0,u.up)("el-table-column"),v=(0,u.up)("View"),W=(0,u.up)("el-icon"),y=(0,u.up)("el-table"),V=(0,u.up)("el-pagination");return(0,u.wg)(),(0,u.iD)("div",_,[(0,u.Wm)(o,{justify:"end"},{default:(0,u.w5)((()=>[(0,u.Wm)(n,{type:"success",size:"small",onClick:N},{default:(0,u.w5)((()=>[(0,u.Uk)("新增试题")])),_:1})])),_:1}),(0,u.Wm)(p,{model:a.value,style:{"margin-top":"10px"},size:"small","label-position":"right","label-width":"80px"},{default:(0,u.w5)((()=>[(0,u.Wm)(o,{gutter:20},{default:(0,u.w5)((()=>[(0,u.Wm)(s,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{label:"学科"},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{modelValue:a.value.subjectID,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.subjectID=e),placeholder:"请选择",onChange:x},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(D.value,(e=>((0,u.wg)(),(0,u.j4)(i,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(s,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{label:"二级目录"},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{modelValue:a.value.catalogID,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.catalogID=e),placeholder:"请选择"},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(U.value,(e=>((0,u.wg)(),(0,u.j4)(i,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(s,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{label:"标签"},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{modelValue:a.value.tags,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.tags=e),placeholder:"请选择"},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(q.value,(e=>((0,u.wg)(),(0,u.j4)(i,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(s,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{label:"关键字"},{default:(0,u.w5)((()=>[(0,u.Wm)(c,{modelValue:a.value.keyword,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value.keyword=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,u.Wm)(o,{gutter:10},{default:(0,u.w5)((()=>[(0,u.Wm)(s,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{label:"试题类型"},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{modelValue:a.value.questionType,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value.questionType=e),placeholder:"请选择"},{default:(0,u.w5)((()=>[((0,u.wg)(),(0,u.iD)(u.HY,null,(0,u.Ko)(k,(e=>(0,u.Wm)(i,{label:e.label,value:e.num},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(s,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{label:"难度"},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{modelValue:a.value.difficulty,"onUpdate:modelValue":l[5]||(l[5]=e=>a.value.difficulty=e),placeholder:"请选择"},{default:(0,u.w5)((()=>[((0,u.wg)(),(0,u.iD)(u.HY,null,(0,u.Ko)(k,(e=>(0,u.Wm)(i,{label:e.value,value:e.num},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(s,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{label:"方向"},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{modelValue:a.value.direction,"onUpdate:modelValue":l[6]||(l[6]=e=>a.value.direction=e),placeholder:"请选择"},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)((0,t.SU)(g.direction),(e=>((0,u.wg)(),(0,u.j4)(i,{label:e.label,value:e.value},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(s,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{label:"录入人"},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{modelValue:a.value.creatorID,"onUpdate:modelValue":l[7]||(l[7]=e=>a.value.creatorID=e),placeholder:"请选择"},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(C.value,(e=>((0,u.wg)(),(0,u.j4)(i,{label:e.username,value:e.id},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,u.Wm)(o,{gutter:20},{default:(0,u.w5)((()=>[(0,u.Wm)(s,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{label:"题目备注"},{default:(0,u.w5)((()=>[(0,u.Wm)(c,{modelValue:a.value.remarks,"onUpdate:modelValue":l[8]||(l[8]=e=>a.value.remarks=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(s,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{label:"企业简称"},{default:(0,u.w5)((()=>[(0,u.Wm)(c,{modelValue:a.value.shortName,"onUpdate:modelValue":l[9]||(l[9]=e=>a.value.shortName=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(s,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{label:"城市",style:{"font-weight":"700"}},{default:(0,u.w5)((()=>[(0,u.Wm)(o,{gutter:5},{default:(0,u.w5)((()=>[(0,u.Wm)(s,{span:12},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{modelValue:a.value.province,"onUpdate:modelValue":l[10]||(l[10]=e=>a.value.province=e),placeholder:"请选择",onChange:Y},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)((0,t.SU)(I),(e=>((0,u.wg)(),(0,u.j4)(i,{label:e,value:e},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])),_:1}),(0,u.Wm)(s,{span:12},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{modelValue:a.value.city,"onUpdate:modelValue":l[11]||(l[11]=e=>a.value.city=e),placeholder:"请选择"},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(T.value,(e=>((0,u.wg)(),(0,u.j4)(i,{label:e,value:e},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,u.Wm)(s,{span:6},{default:(0,u.w5)((()=>[(0,u.Wm)(o,{justify:"end"},{default:(0,u.w5)((()=>[(0,u.Wm)(n,{size:"small",onClick:E},{default:(0,u.w5)((()=>[(0,u.Uk)("清除")])),_:1}),(0,u.Wm)(n,{type:"primary",onClick:O,size:"small"},{default:(0,u.w5)((()=>[(0,u.Uk)("搜索")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"]),(0,u.Wm)(o,null,{default:(0,u.w5)((()=>[(0,u.Wm)(f,{class:"text",closable:!1,title:`数据一共${h.value}条`,type:"info","show-icon":""},null,8,["title"])])),_:1}),(0,u.Wm)(y,{data:H.value,"header-cell-class-name":"tableStyle",style:{width:"100%","margin-top":"10px"}},{default:(0,u.w5)((()=>[(0,u.Wm)(w,{prop:"number",label:"试题编号",width:"150px"}),(0,u.Wm)(w,{prop:"subjectID",label:"学科"}),(0,u.Wm)(w,{prop:"catalog",label:"目录"}),(0,u.Wm)(w,{prop:"questionType",label:"题型"}),(0,u.Wm)(w,{prop:"question",label:"题干"}),(0,u.Wm)(w,{prop:"addDate",label:"录入时间",width:"200px"}),(0,u.Wm)(w,{prop:"difficulty",label:"难度"}),(0,u.Wm)(w,{prop:"creator",label:"录入人"}),(0,u.Wm)(w,{prop:"username",label:"操作",width:"160px"},{default:(0,u.w5)((({row:e})=>[(0,u.Wm)(n,{size:"small",type:"primary",circle:"",plain:"",onClick:$},{default:(0,u.w5)((()=>[(0,u.Wm)(W,null,{default:(0,u.w5)((()=>[(0,u.Wm)(v)])),_:1})])),_:1}),(0,u.Wm)(n,{size:"small",type:"success",icon:(0,t.SU)(b.Edit),circle:"",plain:"",onClick:l=>S(e.id)},null,8,["icon","onClick"]),(0,u.Wm)(n,{size:"small",type:"danger",icon:(0,t.SU)(b.Delete),circle:"",plain:"",onClick:l=>K(e.id)},null,8,["icon","onClick"]),(0,u.Wm)(n,{size:"small",type:"warning",icon:(0,t.SU)(b.Check),circle:"",plain:"",onClick:l=>B(e.id)},null,8,["icon","onClick"])])),_:1})])),_:1},8,["data"]),(0,u.Wm)(o,{justify:"end",style:{"margin-top":"15px"}},{default:(0,u.w5)((()=>[(0,u.Wm)(V,{small:"",background:"",total:h.value,class:"mt-4","default-page-size":r.value.pagesize,"page-sizes":[5,10,20,50],layout:"prev, pager, next,sizes, jumper",onSizeChange:z,onCurrentChange:j},null,8,["total","default-page-size"])])),_:1})])}}},V=a(40089);const D=(0,V.Z)(h,[["__scopeId","data-v-7318cfa4"]]);var C=D}}]);
//# sourceMappingURL=462.a6b2e200.js.map