{"version":3,"file":"js/483.c1ceb044.js","mappings":"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","sources":["webpack://hmmm-frontend-vue3-dev/./src/module-hmmm/components/companys-add.vue","webpack://hmmm-frontend-vue3-dev/./src/module-hmmm/components/companys-add.vue?75d1"],"sourcesContent":["<template>\r\n  <div class=\"add-form\">\r\n    <el-dialog\r\n      :title=\"titleInfo.text + titleInfo.pageTitle\"\r\n      v-model=\"dialogFormVisible\"\r\n    >\r\n      <el-form\r\n        :rules=\"ruleInline\"\r\n        ref=\"dataForm\"\r\n        :model=\"formBase\"\r\n        label-position=\"left\"\r\n        label-width=\"150px\"\r\n        style=\"width: 80%; margin-left: 10px\"\r\n      >\r\n        <el-form-item label=\"企业名称\" prop=\"shortName\">\r\n          <el-input v-model=\"formBase.shortName\"></el-input>\r\n          <el-checkbox v-model=\"formBase.isFamous\">是否为名企</el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item label=\"所属公司\" prop=\"company\">\r\n          <el-input v-model=\"formBase.company\"></el-input>\r\n          <p>https://www.tianyancha.com （在此可查询所属公司全称及简称）</p>\r\n        </el-form-item>\r\n        <el-form-item label=\"城市\" prop=\"province\">\r\n          <el-select\r\n            class=\"filter-item\"\r\n            style=\"width: 130px\"\r\n            v-model=\"formBase.province\"\r\n            @keyup.enter=\"handleFilter\"\r\n            @change=\"handleProvince\"\r\n            filterable\r\n          >\r\n            <el-option\r\n              v-for=\"item in citySelect.province\"\r\n              :key=\"item\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n            ></el-option>\r\n          </el-select>\r\n          <el-select\r\n            class=\"filter-item\"\r\n            style=\"width: 130px\"\r\n            v-model=\"formBase.city\"\r\n            @keyup.enter=\"handleFilter\"\r\n            filterable\r\n          >\r\n            <el-option\r\n              v-for=\"item in citySelect.cityDate\"\r\n              :key=\"item\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"方向（企业标签）\" prop=\"tags\">\r\n          <el-input v-model=\"formBase.tags\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remarks\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :autosize=\"{ minRows: 2, maxRows: 4 }\"\r\n            placeholder=\"请输入\"\r\n            v-model=\"formBase.remarks\"\r\n          ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template v-slot:footer>\r\n        <div class=\"dialog-footer\">\r\n          <el-button @click=\"dialogFormH\">{{ $t('table.cancel') }}</el-button>\r\n          <el-button type=\"primary\" @click=\"createData\">{{\r\n            $t('table.confirm')\r\n          }}</el-button>\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { $on, $off, $once, $emit } from '../../utils/gogocodeTransfer'\r\nimport { update, add } from '@/api/base/users'\r\nimport { provinces, citys } from '@/api/hmmm/citys.js'\r\nexport default {\r\n  name: 'CompanysAdd',\r\n  props: {\r\n    titleInfo: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    formBase: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      dialogFormVisible: false,\r\n      citySelect: {\r\n        province: [],\r\n        cityDate: []\r\n      },\r\n      // 表单验证\r\n      ruleInline: {\r\n        shortName: [\r\n          { required: true, message: '企业简称不能为空', trigger: 'blur' }\r\n        ],\r\n        province: [\r\n          { required: true, message: '请选择省份', trigger: 'change' }\r\n        ],\r\n        tags: [{ required: true, message: '请请输标签', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    // 弹层显示\r\n    dialogFormV () {\r\n      this.dialogFormVisible = true\r\n    },\r\n    // 弹层隐藏\r\n    dialogFormH () {\r\n      this.dialogFormVisible = false\r\n    },\r\n    // 获取省\r\n    getCityData: function () {\r\n      this.citySelect.province = provinces()\r\n    },\r\n    // 选省获取到市\r\n    handleProvince: function (e) {\r\n      this.citySelect.cityDate = citys(e)\r\n      this.formBase.city = this.citySelect.cityDate[0]\r\n    },\r\n    // 表单提交\r\n    createData () {\r\n      this.$refs.dataForm.validate(async (valid) => {\r\n        if (valid) {\r\n          this.dialogFormH()\r\n          const data = {\r\n            ...this.formBase\r\n          }\r\n          if (this.formBase.id) {\r\n            await update(data).then(() => {\r\n              $emit(this, 'newDataes', this.formBase)\r\n            })\r\n          } else {\r\n            await add(this.formBase).then(() => {\r\n              $emit(this, 'newDataes', this.formBase)\r\n            })\r\n          }\r\n        } else {\r\n          this.$message.error('*号为必填项!')\r\n        }\r\n      })\r\n    }\r\n  },\r\n  // 挂载结束\r\n\r\n  mounted: function () {},\r\n  // 创建完毕状态\r\n  created () {\r\n    this.getCityData()\r\n  },\r\n  // 组件更新\r\n  updated: function () {},\r\n  emits: ['newDataes']\r\n}\r\n</script>\r\n\r\n<style>\r\n.el-form--label-left .el-form-item__label {\r\n  text-align: right;\r\n}\r\n.el-form-item--medium {\r\n  margin-bottom: 22px;\r\n}\r\n.el-dialog__footer {\r\n  text-align: center;\r\n}\r\n</style>\r\n","import { render } from \"./companys-add.vue?vue&type=template&id=2fa55c26\"\nimport script from \"./companys-add.vue?vue&type=script&lang=js\"\nexport * from \"./companys-add.vue?vue&type=script&lang=js\"\n\nimport \"./companys-add.vue?vue&type=style&index=0&id=2fa55c26&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_el_dialog","title","$props","titleInfo","text","pageTitle","$data","dialogFormVisible","$event","footer","_withCtx","_hoisted_3","_component_el_button","onClick","$options","dialogFormH","_ctx","$t","type","createData","_component_el_form","rules","ruleInline","ref","model","formBase","style","_component_el_form_item","label","prop","_component_el_input","shortName","_component_el_checkbox","isFamous","company","_hoisted_2","_component_el_select","province","onKeyup","_withKeys","handleFilter","onChange","handleProvince","filterable","_Fragment","_renderList","citySelect","item","_createBlock","_component_el_option","key","value","city","cityDate","tags","autosize","minRows","maxRows","placeholder","remarks","name","props","Object","required","data","message","trigger","computed","methods","dialogFormV","this","getCityData","provinces","e","citys","$refs","dataForm","validate","async","valid","id","update","then","$emit","add","$message","error","mounted","created","updated","emits","__exports__","render"],"sourceRoot":""}