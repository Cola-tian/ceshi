"use strict";(self["webpackChunkhmmm_frontend_vue3_dev"]=self["webpackChunkhmmm_frontend_vue3_dev"]||[]).push([[483],{18483:function(e,l,a){a.r(l),a.d(l,{default:function(){return g}});var t=a(73396),o=a(87139),i=a(49242);const r={class:"add-form"},m=(0,t._)("p",null,"https://www.tianyancha.com （在此可查询所属公司全称及简称）",-1),s={class:"dialog-footer"};function n(e,l,a,n,u,d){const c=(0,t.up)("el-input"),f=(0,t.up)("el-checkbox"),p=(0,t.up)("el-form-item"),h=(0,t.up)("el-option"),g=(0,t.up)("el-select"),y=(0,t.up)("el-form"),w=(0,t.up)("el-button"),V=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)("div",r,[(0,t.Wm)(V,{title:a.titleInfo.text+a.titleInfo.pageTitle,modelValue:u.dialogFormVisible,"onUpdate:modelValue":l[7]||(l[7]=e=>u.dialogFormVisible=e)},{footer:(0,t.w5)((()=>[(0,t._)("div",s,[(0,t.Wm)(w,{onClick:d.dialogFormH},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.$t("table.cancel")),1)])),_:1},8,["onClick"]),(0,t.Wm)(w,{type:"primary",onClick:d.createData},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.$t("table.confirm")),1)])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t.Wm)(y,{rules:u.ruleInline,ref:"dataForm",model:a.formBase,"label-position":"left","label-width":"150px",style:{width:"80%","margin-left":"10px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{label:"企业名称",prop:"shortName"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{modelValue:a.formBase.shortName,"onUpdate:modelValue":l[0]||(l[0]=e=>a.formBase.shortName=e)},null,8,["modelValue"]),(0,t.Wm)(f,{modelValue:a.formBase.isFamous,"onUpdate:modelValue":l[1]||(l[1]=e=>a.formBase.isFamous=e)},{default:(0,t.w5)((()=>[(0,t.Uk)("是否为名企")])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(p,{label:"所属公司",prop:"company"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{modelValue:a.formBase.company,"onUpdate:modelValue":l[2]||(l[2]=e=>a.formBase.company=e)},null,8,["modelValue"]),m])),_:1}),(0,t.Wm)(p,{label:"城市",prop:"province"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{class:"filter-item",style:{width:"130px"},modelValue:a.formBase.province,"onUpdate:modelValue":l[3]||(l[3]=e=>a.formBase.province=e),onKeyup:(0,i.D2)(e.handleFilter,["enter"]),onChange:d.handleProvince,filterable:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(u.citySelect.province,(e=>((0,t.wg)(),(0,t.j4)(h,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onKeyup","onChange"]),(0,t.Wm)(g,{class:"filter-item",style:{width:"130px"},modelValue:a.formBase.city,"onUpdate:modelValue":l[4]||(l[4]=e=>a.formBase.city=e),onKeyup:(0,i.D2)(e.handleFilter,["enter"]),filterable:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(u.citySelect.cityDate,(e=>((0,t.wg)(),(0,t.j4)(h,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onKeyup"])])),_:1}),(0,t.Wm)(p,{label:"方向（企业标签）",prop:"tags"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{modelValue:a.formBase.tags,"onUpdate:modelValue":l[5]||(l[5]=e=>a.formBase.tags=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(p,{label:"备注",prop:"remarks"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入",modelValue:a.formBase.remarks,"onUpdate:modelValue":l[6]||(l[6]=e=>a.formBase.remarks=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["rules","model"])])),_:1},8,["title","modelValue"])])}var u=a(19471),d=a(59790),c=a(25732),f={name:"CompanysAdd",props:{titleInfo:{type:Object,required:!0},formBase:{type:Object,required:!0}},data(){return{dialogFormVisible:!1,citySelect:{province:[],cityDate:[]},ruleInline:{shortName:[{required:!0,message:"企业简称不能为空",trigger:"blur"}],province:[{required:!0,message:"请选择省份",trigger:"change"}],tags:[{required:!0,message:"请请输标签",trigger:"blur"}]}}},computed:{},methods:{dialogFormV(){this.dialogFormVisible=!0},dialogFormH(){this.dialogFormVisible=!1},getCityData:function(){this.citySelect.province=(0,c.J)()},handleProvince:function(e){this.citySelect.cityDate=(0,c.s)(e),this.formBase.city=this.citySelect.cityDate[0]},createData(){this.$refs.dataForm.validate((async e=>{if(e){this.dialogFormH();const e={...this.formBase};this.formBase.id?await(0,d.Vx)(e).then((()=>{(0,u.Qy)(this,"newDataes",this.formBase)})):await(0,d.IH)(this.formBase).then((()=>{(0,u.Qy)(this,"newDataes",this.formBase)}))}else this.$message.error("*号为必填项!")}))}},mounted:function(){},created(){this.getCityData()},updated:function(){},emits:["newDataes"]},p=a(40089);const h=(0,p.Z)(f,[["render",n]]);var g=h}}]);
//# sourceMappingURL=483.c1ceb044.js.map